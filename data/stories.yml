# data/stories.yml (VERSIÃ“N 3.1 - CORREGIDA)
version: "3.1"

stories:
- story: Happy Path - Greeting and Goodbye
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_goodbye

- story: Path - Ask Price (sin entidad) SIN SALUDO
  steps:
  - intent: ask_price
  - action: action_get_price

- story: Path - Ask FAQ then Ask Price
  steps:
  - intent: greet
  - action: utter_greet
  - intent: faq # <-- CORREGIDO
  - action: utter_faq 
  - intent: ask_price
    entities:
    - sheet_size: "22x36"
  - slot_was_set:
    - sheet_size: "22x36"
  - action: action_get_price

- story: Path - Ask questions then order
  steps:
  - intent: greet
  - action: utter_greet
  - intent: faq # <-- CORREGIDO
  - action: utter_faq
  - intent: faq # <-- CORREGIDO
  - action: utter_faq
  - intent: create_order_dtf
  - action: order_form
  - active_loop: order_form

- story: Path - Ask price then instructions
  steps:
  - intent: ask_price
    entities:
    - product_name: "6 Pack T-Shirts"
  - slot_was_set:
    - product_name: "6 Pack T-Shirts"
  - action: action_get_price
  - intent: faq # <-- CORREGIDO
  - action: utter_faq
  - intent: thankyou
  - action: utter_you_are_welcome

- story: Path - Order with FAQ interruption
  steps:
  - intent: create_order_dtf
  - action: order_form
  - active_loop: order_form
  - slot_was_set:
    - product_name: "DTF Custom Gang Sheet"
  - intent: faq # <-- CORREGIDO
  - action: utter_faq
  - action: order_form
  - active_loop: order_form
  - intent: inform
    entities:
    - sheet_size: "22x36"
  - slot_was_set:
    - sheet_size: "22x36"
  - action: order_form
  - active_loop: order_form
  - intent: inform
    entities:
    - number: 5
  - slot_was_set:
    - quantity: 5.0
  - action: order_form
  - active_loop: null
  - action: action_submit_order_to_api

- story: Path - Order where user just says a number
  steps:
  - intent: create_order_dtf
  - action: order_form
  - active_loop: order_form
  - intent: inform
    entities:
    - product_name: "6 Pack T-Shirts"
  - slot_was_set:
    - product_name: "6 Pack T-Shirts"
  - action: order_form
  - active_loop: order_form
  - intent: inform
    entities:
    - number: 5
  - slot_was_set:
    - quantity: 5.0
  - action: order_form
  - active_loop: null
  - action: action_submit_order_to_api

- story: Path - Ask price then order
  steps:
  - intent: ask_price
    entities:
    - product_name: "6 Pack T-Shirts"
  - slot_was_set:
    - product_name: "6 Pack T-Shirts"
  - action: action_get_price
  - intent: affirm
  - action: order_form
  - active_loop: order_form
  - slot_was_set:
    - product_name: "6 Pack T-Shirts"
  - intent: inform
    entities:
    - number: 2
  - slot_was_set:
    - quantity: 2.0
  - action: order_form
  - active_loop: null
  - action: action_submit_order_to_api