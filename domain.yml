# domain.yml (¡VERSIÓN 3.1 - CON FORMS CORREGIDO!)
version: "3.1"
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
  - greet
  - goodbye
  - ask_price
  - create_order_dtf
  - inform
  - affirm
  - deny
  - thankyou
  - compliment
  - ask_how_are_you
  - stop_order
  - bot_challenge
  - faq:
      is_retrieval_intent: true

entities:
  - sheet_size
  - product_name
  - number

slots:
  sheet_size:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: sheet_size
  product_name:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: product_name
  quantity:
    type: float
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: number

responses:
  # --- RESPUESTAS BÁSICAS ---
  utter_greet:
  - text: "Hey! I'm your DTF assistant. How can I help you with your DTF and UV DTF orders today?"
  utter_goodbye:
  - text: "Goodbye! Have a great day."
  utter_iamabot:
  - text: "I am a bot, powered by Rasa. I'm here to help you with your DTF orders!"
  
  # --- RESPUESTAS DE CHIT-CHAT ---
  utter_you_are_welcome:
  - text: "You're welcome! Is there anything else I can help you with?"
  utter_good_bot:
  - text: "Thanks! I'm happy to help."
  utter_how_are_you:
  - text: "I'm a bot, so I'm always running at 100%! How can I help you?"
  utter_order_cancelled:
  - text: "OK, I've cancelled this order. What can I help you with next?"

  # --- FORMULARIO (CORREGIDO CON DOBLE LLAVE) ---
  utter_ask_product_name:
  - custom:
      type: "buttons"
      text: "What product would you like to order?"
      options:
      - title: "DTF Gang Sheet"
        payload: '/inform{{"product_name":"DTF Custom Gang Sheet"}}'
      - title: "UV DTF Gang Sheet"
        payload: '/inform{{"product_name":"UV DTF Gang Sheet"}}'
      - title: "6 Pack T-Shirts"
        payload: '/inform{{"product_name":"6 Pack T-Shirts"}}'
      - title: "DTF + Heat Press"
        payload: '/inform{{"product_name":"DTF + Heat Press"}}'
  utter_ask_sheet_size:
  - custom:
      type: "buttons"
      text: "What size gang sheet do you need?"
      options:
      - title: "22x12"
        payload: '/inform{{"sheet_size":"22x12"}}'
      - title: "22x36"
        payload: '/inform{{"sheet_size":"22x36"}}'
      - title: "22x60"
        payload: '/inform{{"sheet_size":"22x60"}}'
      - title: "11x12 (UV)"
        payload: '/inform{{"sheet_size":"11x12"}}'
      - title: "11x24 (UV)"
        payload: '/inform{{"sheet_size":"11x24"}}'
  
  # --- RESPUESTAS DE FORMULARIO ---
  utter_ask_quantity:
  - text: "How many would you like?"
  utter_submit_order:
  - text: "Great, I've got that! I'll be placing an order for {quantity} x {product_name}."
  utter_submit_order_with_size:
  - text: "Great, I've got that! I'll be placing an order for {quantity} x {product_name} ({sheet_size})."
  utter_ask_continue:
  - text: "Are you sure you want to cancel the order process?"
  utter_default:
  - text: "Sorry, I'm not sure how to respond to that. I'm still learning. Can you try rephrasing? You can also ask me about prices, instructions, or our locations."

  # --- RESPUESTAS DE Q&A (Estas están bien) ---
  utter_faq/what_is_dtf:
  - text: "DTF transfers, or Direct Film transfers, involve printing designs onto a special film, which is then transferred onto various surfaces using heat and pressure."
  utter_faq/what_is_uv_dtf:
  - text: "UV DTF (Ultraviolet DTF) is used for hard surfaces, not apparel. It uses UV light to cure the ink... \n\n**What is UV Transfers?**\n[Watch the video](https://youtu.be/XxZ6-aYz-V4)"
  utter_faq/ask_dtf_vs_others:
  - text: "DTF transfers offer the ability to print vibrant, full-color designs... \n\n**DTF VS DGT**\n[Learn the difference between DTF and DGT](https://youtu.be/dDdiubZjYwM)"
  utter_faq/ask_dtf_durability:
  - text: "Yes, DTF transfers are known for their durability and longevity, providing vibrant and sharp prints that withstand washing and wear."
  utter_faq/how_to_order:
  - text: "You can place an order for DTF transfers through our website or by contacting our customer service. Specify your design, quantity, and any customization preferences."
  utter_faq/ask_pre_cutting_service:
  - text: "Yes, we provide DTF transfer pre-cutting services, saving you time and ensuring precise dimensions for easy application."
  utter_faq/ask_instructions_dtf:
  - text: "Our Instant Hot Peel transfers are easy to apply! ... \n\n**How to use DTF Transfers**\n[Learn on how to press DTF](https://youtu.be/cx0ARO5z8xE)"
  utter_faq/ask_instructions_uv:
  - text: "UV DTF transfers are for hard surfaces and require no heat. ... \n\n**What is UV Transfers?**\n[Watch the video](https://youtu.be/XxZ6-aYz-V4)"
  utter_faq/ask_contact_info:
  - text: "You can contact us here:\n\n**Phone:**\n(866) 985-3606\n(626) 663-5863\n\n**Email:**\ninfo@dtftransfersaffordable.com"
  utter_faq/ask_pickup_locations:
  - text: "Yes, we offer free local pickup at two locations:\n\n**San Dimas:**\n457 W. Allen Ave. # 101, San Dimas CA 91773\n\n**Covina:**\n200 E. Rowland St, Covina CA 91723"
  utter_faq/ask_shipping_time:
  - text: "Our standard processing time is 1-2 business days. Shipping then takes 3-5 days via USPS. You can find more info here: https://dtftransfersaffordable.com/content/1-delivery"
  utter_faq/ask_file_requirements:
  - text: "We accept .PNG and .PDF files. For .PNG files, please ensure they have a transparent background and are at least 300 DPI for the best quality."
  utter_faq/ask_available_sizes:
  - text: "We have a huge range of sizes! For DTF Gang Sheets, we offer sizes from 22x12 up to 22x300. For UV DTF Gang Sheets, we have sizes from 11x12 up to 11x300."
  utter_faq/ask_tshirt_service:
  - text: "Yes! We offer T-Shirt Heat Pressing Services at our shop in San Dimas, CA. We also sell 6-packs and 12-packs of T-shirts!"
  utter_faq/ask_tshirt_fabrics:
  - text: "Our DTF transfers work great on many fabrics! This includes cotton, polyester, blends, and more."
  utter_faq/ask_about_us:
  - text: "We are dtftransfersaffordable.com (B V Graphics CA LLC), a team of passionate creators committed to transforming your ideas into tangible expressions."
  utter_faq/ask_minimum_order:
  - text: "For our 'DTF + Heat Press' service (where we press the shirt for you), there is a minimum order of 24 pieces. For regular DTF and UV DTF Gang Sheet orders, you can order just one!"
  utter_faq/ask_difference_dtf_uv:
  - text: "Great question! \n- DTF (Direct-to-Film) is for fabric like T-shirts. \n- UV DTF is for hard surfaces like glass, metal, plastic."
  # --- NUEVA INFORMACIÓN (V4.0) ---

  utter_faq/what_is_hot_peel:
  - text: "Instant Hot Peel means you can peel the transfer film off *immediately* after the heat press, while it's still hot. This is much faster than 'Cold Peel' transfers, which require you to wait for it to cool down completely. It saves a lot of time, especially for bulk orders!"

  utter_faq/wash_instructions:
  - text: "To make your DTF print last long, we recommend: \n1. Wait 24 hours before the first wash. \n2. Turn the garment inside out. \n3. Wash in cold water on a gentle cycle. \n4. Tumble dry on low heat or hang dry. \n5. Do not iron directly on the print!"

  utter_faq/tshirt_materials:
  - text: "Our T-Shirt packs (like the 6-Pack and 12-Pack) are typically 100% Ring-Spun Cotton for a soft feel and great printing results. If you use our 'DTF + Heat Press' service, you can often provide your own garments as well, including polyester and blends."

  utter_faq/what_tools_do_i_need_dtf:
  - text: "For DTF transfers, you **must** use a heat press. A regular home iron will not work, as it cannot provide the consistent high pressure and even temperature required. \nFor UV DTF, you don't need any tools! Just clean the surface and apply it like a sticker."

  utter_faq/uv_durability:
  - text: "Our UV DTF transfers are highly durable, waterproof, and scratch-resistant. They are great for items like mugs, water bottles, and laptops. However, for maximum lifespan, we recommend hand-washing items with UV transfers. A dishwasher's high heat and harsh detergents can slowly degrade the adhesive over time."

  utter_faq/bulk_discount:
  - text: "Yes, we do! Our pricing is tiered, so the more you order, the lower the price per sheet. For very large or wholesale inquiries (over 100+ sheets), please contact our sales team directly at info@dtftransfersaffordable.com for a custom quote."



actions:
  - action_get_price
  - validate_order_form
  - action_submit_order_to_api
  - action_cancel_order

# --- ¡AQUÍ ESTÁ LA CORRECCIÓN! ---
# Esta sección faltaba
forms:
  order_form:
    required_slots: [] # <-- ESTA ES LA LÍNEA CORRECTA